# PRD: Block Agent System - WSOPTV AI ê°œë°œ ì•„í‚¤í…ì²˜

**Version**: 1.0.0
**Date**: 2025-12-09
**Author**: Claude Code
**Status**: Draft
**Architecture**: [0001-block-agent-system.md](../architecture/0001-block-agent-system.md)

---

## 1. Executive Summary

Block Agent Systemì€ WSOPTV í”Œë«í¼ ê°œë°œ ì‹œ AIì˜ íš¨ìœ¨ì„±ì„ ê·¹ëŒ€í™”í•˜ê¸° ìœ„í•œ **ëª¨ë“ˆí˜• ì—ì´ì „íŠ¸ ì•„í‚¤í…ì²˜**ì…ë‹ˆë‹¤. ì½”ë“œë² ì´ìŠ¤ë¥¼ ë„ë©”ì¸ë³„ **ë¸”ëŸ­**ìœ¼ë¡œ ë¶„í• í•˜ê³ , ê° ë¸”ëŸ­ì— **ì „ë‹´ ì—ì´ì „íŠ¸**ë¥¼ ë°°ì¹˜í•˜ì—¬ ë¡œì§ ë¬´ê²°ì„±ê³¼ ê°œë°œ ìƒì‚°ì„±ì„ ë™ì‹œì— í™•ë³´í•©ë‹ˆë‹¤.

### 1.1 Vision

> "ê°œë°œìëŠ” ì§€íœ˜ì(Conductor), AI ì—ì´ì „íŠ¸ íŒ€ì´ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ìƒˆë¡œìš´ ê°œë°œ íŒ¨ëŸ¬ë‹¤ì„"

### 1.2 Key Differentiators

| ì°¨ë³„ì  | ì„¤ëª… |
|--------|------|
| **AI ì»¨í…ìŠ¤íŠ¸ ìµœì í™”** | ë¸”ëŸ­ ë‹¨ìœ„ ê²©ë¦¬ë¡œ í™˜ê°(Hallucination) ë°©ì§€ |
| **Vertical Slicing** | ê¸°ëŠ¥í˜• êµ¬ì¡°ë¡œ Self-Contained ë¸”ëŸ­ êµ¬ì„± |
| **Conductor íŒ¨ëŸ¬ë‹¤ì„** | ê°œë°œì = ì§€íœ˜ì, AI = ì‹¤í–‰ì ì—­í•  ë¶„ë¦¬ |
| **ì—ëŸ¬ ê²©ë¦¬** | ë¸”ëŸ­ ê°„ ëª…í™•í•œ ê²½ê³„ë¡œ ë¶€ì‘ìš©(Side Effect) ì°¨ë‹¨ |

---

## 2. Problem Statement

### 2.1 í˜„ì¬ Pain Points

ëŒ€ê·œëª¨ ì½”ë“œë² ì´ìŠ¤ì—ì„œ AI ê¸°ë°˜ ê°œë°œ ì‹œ ë°œìƒí•˜ëŠ” ë¬¸ì œ:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AI DEVELOPMENT BOTTLENECKS                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  1. Context Pollution (ì»¨í…ìŠ¤íŠ¸ ì˜¤ì—¼)                        â”‚
â”‚     â€¢ ë¬´ê´€í•œ ì½”ë“œê°€ AI ì¶”ë¡  ë°©í•´                             â”‚
â”‚     â€¢ ë°±ì—”ë“œ ì‘ì—… ì‹œ í”„ë¡ íŠ¸ì—”ë“œ ì½”ë“œê°€ ë…¸ì´ì¦ˆ                 â”‚
â”‚     â€¢ í™˜ê°(Hallucination) ìœ ë°œ                              â”‚
â”‚                                                              â”‚
â”‚  2. Attention Dilution (ì£¼ì˜ë ¥ ë¶„ì‚°)                         â”‚
â”‚     â€¢ 1M í† í° ì²˜ë¦¬ ê°€ëŠ¥í•´ë„ ì§‘ì¤‘ë ¥ ì €í•˜                      â”‚
â”‚     â€¢ Lost-in-the-Middle í˜„ìƒ                               â”‚
â”‚     â€¢ íŒŒì¼ 50ê°œ+ ê·œëª¨ì—ì„œ ì„±ëŠ¥ ê¸‰ë½                          â”‚
â”‚                                                              â”‚
â”‚  3. Error Propagation (ì—ëŸ¬ ì „íŒŒ)                            â”‚
â”‚     â€¢ í•œ ì˜ì—­ ìˆ˜ì •ì´ ë‹¤ë¥¸ ì˜ì—­ì— ì˜í–¥                        â”‚
â”‚     â€¢ ë””ë²„ê¹… ë²”ìœ„ ë¶ˆëª…í™•                                     â”‚
â”‚     â€¢ íšŒê·€ ë²„ê·¸ ë¹ˆë°œ                                         â”‚
â”‚                                                              â”‚
â”‚  4. Inconsistent Quality (í’ˆì§ˆ ë¶ˆì¼ì¹˜)                       â”‚
â”‚     â€¢ ë™ì¼ ì‘ì—…ì— ë‹¤ë¥¸ ê²°ê³¼                                  â”‚
â”‚     â€¢ ì½”ë”© ìŠ¤íƒ€ì¼ ë¶ˆì¼ì¹˜                                     â”‚
â”‚     â€¢ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ë¯¸ì ìš©                                 â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ì •ëŸ‰ì  ë¬¸ì œ ë¶„ì„

| ì§€í‘œ | í˜„ì¬ (ë¸”ëŸ­í™” ì—†ìŒ) | ëª©í‘œ (ë¸”ëŸ­í™” í›„) |
|------|-------------------|-----------------|
| AI ì‘ë‹µ ì‹œê°„ | 10ì´ˆ+ | 2~3ì´ˆ |
| í™˜ê° ë°œìƒë¥  | 15~20% | <3% |
| ì—ëŸ¬ìœ¨ | ë†’ìŒ | í˜„ì €íˆ ê°ì†Œ |
| ì»¨í…ìŠ¤íŠ¸ í¬ê¸° | 500+ íŒŒì¼ | 15~30 íŒŒì¼ |

### 2.3 Target Users

**Primary**: Claude Code ì‚¬ìš© ê°œë°œì
- WSOPTV í”Œë«í¼ ê°œë°œ ë‹´ë‹¹
- AI ê¸°ë°˜ ì½”ë“œ ìƒì„±/ìˆ˜ì • ì‘ì—…
- ëŒ€ê·œëª¨ ì½”ë“œë² ì´ìŠ¤ ê´€ë¦¬

**Secondary**: í”„ë¡œì íŠ¸ ê´€ë¦¬ì
- ê°œë°œ í’ˆì§ˆ ê´€ë¦¬
- ì•„í‚¤í…ì²˜ ì˜ì‚¬ê²°ì •
- íŒ€ í˜‘ì—… ì¡°ì •

---

## 3. Solution Overview

### 3.1 High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   BLOCK AGENT SYSTEM                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  Level 0: Orchestrator                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                  OrchestratorAgent                   â”‚    â”‚
â”‚  â”‚  â€¢ ì „ì²´ ì›Œí¬í”Œë¡œìš° ì¡°ì •                              â”‚    â”‚
â”‚  â”‚  â€¢ ë„ë©”ì¸ ì—ì´ì „íŠ¸ ìŠ¤ì¼€ì¤„ë§                          â”‚    â”‚
â”‚  â”‚  â€¢ ê¸€ë¡œë²Œ ì—ëŸ¬ í•¸ë“¤ë§                               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                            â”‚                                 â”‚
â”‚  Level 1: Domain Agents    â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚  Auth    â”‚ Content  â”‚  Stream  â”‚  Search  â”‚             â”‚
â”‚  â”‚  Agent   â”‚  Agent   â”‚  Agent   â”‚  Agent   â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜             â”‚
â”‚       â”‚          â”‚          â”‚          â”‚                    â”‚
â”‚  Level 2: Block Agents                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”             â”‚
â”‚  â”‚validate â”‚â”‚ query   â”‚â”‚transcodeâ”‚â”‚ parse   â”‚             â”‚
â”‚  â”‚ token   â”‚â”‚ cache   â”‚â”‚ deliver â”‚â”‚ search  â”‚             â”‚
â”‚  â”‚session  â”‚â”‚ hands   â”‚â”‚ monitor â”‚â”‚ rank    â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 Vertical Slicing êµ¬ì¡°

ê¸°ì¡´ ê³„ì¸µí˜•ì—ì„œ ê¸°ëŠ¥í˜•ìœ¼ë¡œ ì „í™˜:

```
Before (ê³„ì¸µí˜•)                 After (ê¸°ëŠ¥í˜•)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€           â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
apps/web/                      apps/web/
â”œâ”€â”€ components/                â”œâ”€â”€ features/
â”‚   â”œâ”€â”€ VideoPlayer.svelte     â”‚   â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ SearchBar.svelte       â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â””â”€â”€ AuthForm.svelte        â”‚   â”‚   â”œâ”€â”€ hooks/
â”œâ”€â”€ hooks/                     â”‚   â”‚   â”œâ”€â”€ stores/
â”‚   â”œâ”€â”€ usePlayer.ts           â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ useSearch.ts           â”‚   â”‚   â”œâ”€â”€ types.ts
â”‚   â””â”€â”€ useAuth.ts             â”‚   â”‚   â”œâ”€â”€ index.ts
â”œâ”€â”€ stores/                    â”‚   â”‚   â””â”€â”€ AGENT_RULES.md
â”‚   â”œâ”€â”€ playerStore.ts         â”‚   â”œâ”€â”€ player/
â”‚   â”œâ”€â”€ searchStore.ts         â”‚   â”œâ”€â”€ search/
â”‚   â””â”€â”€ authStore.ts           â”‚   â””â”€â”€ content/
â””â”€â”€ pages/                     â””â”€â”€ shared/
```

### 3.3 ë„ë©”ì¸-ë¸”ëŸ­ ë§¤í•‘

| Domain | Blocks | íŒŒì¼ ìˆ˜ | í† í° | ìƒíƒœ |
|--------|--------|--------|------|------|
| **Auth** | validate, token, session | 12ê°œ | ~25k | ğŸŸ¢ |
| **Content** | query, cache, response, hands, timeline | 28ê°œ | ~45k | ğŸŸ¡ |
| **Stream** | resolve, transcode, deliver, monitor | 18ê°œ | ~35k | ğŸŸ¢ |
| **Search** | parse, search, rank | 10ê°œ | ~20k | ğŸŸ¢ |
| **Player** | (UI ë¸”ëŸ­) | 22ê°œ | ~40k | ğŸŸ¢ |

---

## 4. Feature Requirements

### 4.1 Core Features (Must Have)

#### F1. ë¸”ëŸ­ ì •ì˜ ì‹œìŠ¤í…œ
**Priority**: P0

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| ë¸”ëŸ­ ID ì²´ê³„ | `{domain}.{name}` í˜•ì‹ (ì˜ˆ: `auth.validate`) |
| ì…ì¶œë ¥ í¬íŠ¸ | íƒ€ì… ì•ˆì „í•œ ì¸í„°í˜ì´ìŠ¤ ì •ì˜ |
| ì˜ì¡´ì„± ê·¸ë˜í”„ | ë¸”ëŸ­ ê°„ ê´€ê³„ ëª…ì‹œ |
| ìƒíƒœ ê´€ë¦¬ | `idle`, `processing`, `error`, `disabled` |

```typescript
interface Block {
  id: string;                    // 'auth.validate'
  domain: DomainType;            // 'auth'
  name: string;                  // 'validate'
  version: string;               // SemVer
  status: BlockStatus;
  inputs: InputPort[];
  outputs: OutputPort[];
  metadata: BlockMetadata;
}
```

#### F2. ì—ì´ì „íŠ¸ ê³„ì¸µ ì‹œìŠ¤í…œ
**Priority**: P0

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| Orchestrator Agent | ì „ì—­ ì¡°ì •, ì›Œí¬í”Œë¡œìš° ê´€ë¦¬ |
| Domain Agent | ë„ë©”ì¸ë³„ ë¸”ëŸ­ ê´€ë¦¬ |
| Block Agent | ë‹¨ì¼ ë¸”ëŸ­ ì‹¤í–‰ ë‹´ë‹¹ |
| í—¬ìŠ¤ ì²´í¬ | ì—ì´ì „íŠ¸ ìƒíƒœ ëª¨ë‹ˆí„°ë§ |

```typescript
interface Agent {
  id: string;
  level: 'orchestrator' | 'domain' | 'block';
  status: AgentStatus;
  managedBlocks: string[];
  capabilities: Capability[];
  execute(task: Task): Promise<TaskResult>;
}
```

#### F3. Agent Rules íŒŒì¼ ì‹œìŠ¤í…œ
**Priority**: P0

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| ê·œì¹™ íŒŒì¼ | `AGENT_RULES.md` ê° ë¸”ëŸ­ë³„ ë°°ì¹˜ |
| DO/DON'T ê·œì¹™ | ëª…í™•í•œ ì œì•½ ì‚¬í•­ ì •ì˜ |
| ì˜ì¡´ì„± ì„ ì–¸ | ë‚´ë¶€/ì™¸ë¶€ ì˜ì¡´ì„± ëª…ì‹œ |
| Claude Code í†µí•© | ìë™ ê·œì¹™ ì¸ì‹ ë° ì ìš© |

```markdown
<!-- features/auth/AGENT_RULES.md -->
# Auth Block Agent Rules

## Constraints
### DO
- âœ… ì´ í´ë” ë‚´ íŒŒì¼ë§Œ ìˆ˜ì •
- âœ… Zod ìŠ¤í‚¤ë§ˆë¡œ ì…ë ¥ ê²€ì¦

### DON'T
- âŒ features/ ì™¸ë¶€ íŒŒì¼ ìˆ˜ì •
- âŒ ì „ì—­ ìƒíƒœ ì§ì ‘ ì ‘ê·¼
```

### 4.2 Advanced Features (Should Have)

#### F4. Conductor ì›Œí¬í”Œë¡œìš°
**Priority**: P1

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| 3ë‹¨ê³„ íë¦„ | ì§€íœ˜(Orchestration) â†’ ì‹¤í–‰(Execution) â†’ ê²€ì¦(Integration) |
| ì‘ì—… ë¶„í•´ | ê³ ìˆ˜ì¤€ ì§€ì‹œ â†’ ë¸”ëŸ­ë³„ íƒœìŠ¤í¬ ë¶„í•´ |
| ê²°ê³¼ í†µí•© | ë¸”ëŸ­ ê²°ê³¼ ìˆ˜ì§‘ ë° í†µí•© |
| ìë™ ê²€ì¦ | ë¹Œë“œ/í…ŒìŠ¤íŠ¸ ìë™ ì‹¤í–‰ |

```mermaid
sequenceDiagram
    actor Dev as Developer (ì§€íœ˜ì)
    participant Orch as Orchestrator
    participant Domain as Domain Agent
    participant Block as Block Agent

    Dev->>Orch: "Authì— 2FA ì¶”ê°€í•´ì¤˜"
    Orch->>Domain: delegateTask(auth-domain, 2fa)
    Domain->>Block: execute(auth.token)
    Block-->>Domain: ê²°ê³¼
    Domain-->>Orch: ì™„ë£Œ ë³´ê³ 
    Orch->>Orch: ë¹Œë“œ/í…ŒìŠ¤íŠ¸ ì‹¤í–‰
    Orch-->>Dev: ê²°ê³¼ ë³´ê³  + PR ì œì•ˆ
```

#### F5. ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ íŒ¨í„´
**Priority**: P1

| íŒ¨í„´ | ì ìš© |
|------|------|
| Hybrid | ì „ì—­ Hierarchical + ë„ë©”ì¸ ë‚´ Pipeline |
| ë³‘ë ¬ ì²˜ë¦¬ | ë…ë¦½ ë¸”ëŸ­ ë™ì‹œ ì‹¤í–‰ |
| ìˆœì°¨ ì²˜ë¦¬ | ì˜ì¡´ì„± ìˆëŠ” ë¸”ëŸ­ ì²´ì¸ |

#### F6. ì—ëŸ¬ ì²˜ë¦¬ ë° ë³µêµ¬
**Priority**: P1

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| Circuit Breaker | ì—°ì† ì‹¤íŒ¨ ì‹œ íšŒë¡œ ì°¨ë‹¨ |
| Retry Policy | ì§€ìˆ˜ ë°±ì˜¤í”„ ì¬ì‹œë„ |
| Fallback | ìºì‹œ/ê¸°ë³¸ê°’ ë°˜í™˜ |
| Escalation | ìƒìœ„ ì—ì´ì „íŠ¸ ìœ„ì„ |

### 4.3 Enhancement Features (Nice to Have)

#### F7. ë¸”ëŸ­ ì‚¬ì´ì¦ˆ ëª¨ë‹ˆí„°ë§
**Priority**: P2

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| ìë™ ì¸¡ì • | íŒŒì¼ ìˆ˜, í† í° ìˆ˜ ìë™ ê³„ì‚° |
| ì„ê³„ê°’ ê²½ê³  | 30ê°œ íŒŒì¼ / 50k í† í° ì´ˆê³¼ ì‹œ ì•Œë¦¼ |
| ë¶„í•  ì œì•ˆ | ê³¼ëŒ€ ë¸”ëŸ­ ìë™ ë¶„í•  ê¶Œì¥ |

#### F8. ë©”íŠ¸ë¦­ ìˆ˜ì§‘
**Priority**: P2

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| ì‘ë‹µ ì‹œê°„ | ë¸”ëŸ­ë³„ ì‹¤í–‰ ì‹œê°„ ì¶”ì  |
| ì—ëŸ¬ìœ¨ | ë¸”ëŸ­ë³„ ì—ëŸ¬ ë¹„ìœ¨ |
| ì‚¬ìš©ë¥  | ì—ì´ì „íŠ¸ í™œìš©ë„ |

---

## 5. Technical Requirements

### 5.1 íŒŒì¼ êµ¬ì¡°

```
packages/
â”œâ”€â”€ types/
â”‚   â”œâ”€â”€ block.ts              # Block ì¸í„°í˜ì´ìŠ¤
â”‚   â”œâ”€â”€ agent.ts              # Agent ì¸í„°í˜ì´ìŠ¤
â”‚   â”œâ”€â”€ message.ts            # ë©”ì‹œì§€ íƒ€ì…
â”‚   â””â”€â”€ error.ts              # ì—ëŸ¬ íƒ€ì…
â”‚
â”œâ”€â”€ infrastructure/
â”‚   â”œâ”€â”€ event-bus.ts          # ì´ë²¤íŠ¸ ë²„ìŠ¤
â”‚   â”œâ”€â”€ circuit-breaker.ts    # íšŒë¡œ ì°¨ë‹¨ê¸°
â”‚   â””â”€â”€ metrics.ts            # ë©”íŠ¸ë¦­ ìˆ˜ì§‘
â”‚
â”œâ”€â”€ agents/
â”‚   â”œâ”€â”€ orchestrator/
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ auth-domain/
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ blocks/
â”‚   â”‚       â”œâ”€â”€ validate.ts
â”‚   â”‚       â”œâ”€â”€ token.ts
â”‚   â”‚       â””â”€â”€ session.ts
â”‚   â”œâ”€â”€ content-domain/
â”‚   â”‚   â””â”€â”€ blocks/
â”‚   â”œâ”€â”€ stream-domain/
â”‚   â”‚   â””â”€â”€ blocks/
â”‚   â””â”€â”€ search-domain/
â”‚       â””â”€â”€ blocks/
â”‚
.claude/
â”œâ”€â”€ agents/
â”‚   â”œâ”€â”€ orchestrator.md
â”‚   â”œâ”€â”€ auth-domain.md
â”‚   â”œâ”€â”€ content-domain.md
â”‚   â”œâ”€â”€ stream-domain.md
â”‚   â””â”€â”€ search-domain.md
â”‚
apps/web/features/
â”œâ”€â”€ auth/
â”‚   â””â”€â”€ AGENT_RULES.md
â”œâ”€â”€ player/
â”‚   â””â”€â”€ AGENT_RULES.md
â”œâ”€â”€ search/
â”‚   â””â”€â”€ AGENT_RULES.md
â””â”€â”€ content/
    â””â”€â”€ AGENT_RULES.md
```

### 5.2 í†µì‹  í”„ë¡œí† ì½œ

```typescript
interface AgentMessage {
  id: string;                    // UUID v7
  timestamp: number;
  source: string;                // Agent ID
  target: string;                // Agent ID | 'broadcast'
  type: MessageType;
  payload: unknown;
  correlationId: string;         // ìš”ì²­-ì‘ë‹µ ì—°ê²°
  traceId: string;               // ë¶„ì‚° ì¶”ì 
  priority: Priority;
  ttl: number;
}

type MessageType =
  | 'task.request'
  | 'task.response'
  | 'task.error'
  | 'status.update';
```

### 5.3 ë¸”ëŸ­ ì‚¬ì´ì¦ˆ ê¸°ì¤€

| êµ¬ë¶„ | ê¶Œì¥ | ê²½ê³  | ìœ„í—˜ |
|------|------|------|------|
| íŒŒì¼ ìˆ˜ | 15~20ê°œ | 20~30ê°œ | 30ê°œ+ |
| í† í° ìˆ˜ | 25k~35k | 35k~50k | 50k+ |
| AI ì‘ë‹µ ì‹œê°„ | <3ì´ˆ | 3~10ì´ˆ | 10ì´ˆ+ |

### 5.4 ì—ëŸ¬ ì½”ë“œ ì²´ê³„

| Category | Codes | ë³µêµ¬ ì „ëµ |
|----------|-------|----------|
| **Block** | `BLOCK_TIMEOUT`, `BLOCK_UNAVAILABLE` | retry â†’ circuit_break |
| **Agent** | `AGENT_OVERLOADED`, `AGENT_COMMUNICATION_FAILED` | escalate |
| **Domain** | `AUTH_FAILED`, `CONTENT_NOT_FOUND` | fallback |

---

## 6. WSOPTV ë„ë©”ì¸ ë§¤í•‘

### 6.1 ë„ë©”ì¸ë³„ ë¸”ëŸ­ ìƒì„¸

#### Auth Domain

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     AUTH DOMAIN                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   validate   â”‚â”€â”€â”€â–¶â”‚    token     â”‚â”€â”€â”€â–¶â”‚   session    â”‚  â”‚
â”‚  â”‚    Block     â”‚    â”‚    Block     â”‚    â”‚    Block     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                   â”‚                   â”‚          â”‚
â”‚         â–¼                   â–¼                   â–¼          â”‚
â”‚  â€¢ ì…ë ¥ ê²€ì¦          â€¢ JWT ë°œê¸‰           â€¢ ì„¸ì…˜ ê´€ë¦¬     â”‚
â”‚  â€¢ Zod ìŠ¤í‚¤ë§ˆ         â€¢ Refresh ì²˜ë¦¬       â€¢ Redis ì €ì¥    â”‚
â”‚  â€¢ Rate Limit         â€¢ Blacklist          â€¢ ë§Œë£Œ ì²˜ë¦¬     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Content Domain

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CONTENT DOMAIN                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚    query     â”‚â”€â”€â”€â–¶â”‚    cache     â”‚â”€â”€â”€â–¶â”‚   response   â”‚  â”‚
â”‚  â”‚    Block     â”‚    â”‚    Block     â”‚    â”‚    Block     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚  â–¼              â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚  â”‚    hands     â”‚â”€â”€â”€â–¶â”‚   timeline   â”‚                      â”‚
â”‚  â”‚    Block     â”‚    â”‚    Block     â”‚                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Stream Domain

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STREAM DOMAIN                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   resolve    â”‚â”€â”€â”€â–¶â”‚  transcode   â”‚â”€â”€â”€â–¶â”‚   deliver    â”‚  â”‚
â”‚  â”‚    Block     â”‚    â”‚    Block     â”‚    â”‚    Block     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                             â”‚                               â”‚
â”‚                      â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚                      â”‚   monitor   â”‚                       â”‚
â”‚                      â”‚    Block    â”‚                       â”‚
â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Search Domain

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SEARCH DOMAIN                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚    parse     â”‚â”€â”€â”€â–¶â”‚    search    â”‚â”€â”€â”€â–¶â”‚    rank      â”‚  â”‚
â”‚  â”‚    Block     â”‚    â”‚    Block     â”‚    â”‚    Block     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                   â”‚                   â”‚          â”‚
â”‚         â–¼                   â–¼                   â–¼          â”‚
â”‚  â€¢ ì¿¼ë¦¬ íŒŒì‹±           â€¢ MeiliSearch       â€¢ ê²°ê³¼ ì •ë ¬    â”‚
â”‚  â€¢ í•„í„° ì¶”ì¶œ           â€¢ íŒ¨ì‹¯ ì§‘ê³„         â€¢ ê°œì¸í™”       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 ë„ë©”ì¸ ê°„ ì˜ì¡´ì„±

```mermaid
graph LR
    subgraph Auth
        AV[auth.validate] --> AT[auth.token]
        AT --> AS[auth.session]
    end

    subgraph Content
        CQ[content.query] --> CC[content.cache]
        CC --> CR[content.response]
        CQ --> CH[content.hands]
        CH --> CTL[content.timeline]
    end

    subgraph Stream
        SR[stream.resolve] --> ST[stream.transcode]
        ST --> SD[stream.deliver]
    end

    subgraph Search
        SP[search.parse] --> SS[search.search]
        SS --> SRK[search.rank]
    end

    AS -.->|ì¸ì¦ í•„ìš”| CQ
    AS -.->|ì¸ì¦ í•„ìš”| SR
    AS -.->|ì¸ì¦ í•„ìš”| SP
    CQ -->|ì½˜í…ì¸  ì •ë³´| SR
    CTL -->|íƒ€ì„ë¼ì¸| SD
```

---

## 7. Non-Functional Requirements

### 7.1 Performance

| Metric | Target |
|--------|--------|
| ë¸”ëŸ­ ì‹¤í–‰ ì‹œê°„ | <3ì´ˆ |
| ì—ì´ì „íŠ¸ ì‘ë‹µ ì‹œê°„ | <5ì´ˆ |
| ì „ì²´ ì›Œí¬í”Œë¡œìš° | <30ì´ˆ |
| AI í™˜ê°ë¥  | <3% |

### 7.2 Reliability

| Metric | Target |
|--------|--------|
| ì—ì´ì „íŠ¸ ê°€ìš©ì„± | 99.9% |
| ì—ëŸ¬ ë³µêµ¬ ì„±ê³µë¥  | 95% |
| íšŒë¡œ ì°¨ë‹¨ í›„ ë³µêµ¬ ì‹œê°„ | <30ì´ˆ |

### 7.3 Maintainability

| Metric | Target |
|--------|--------|
| ìƒˆ ë¸”ëŸ­ ì¶”ê°€ ì‹œê°„ | <30ë¶„ |
| ê·œì¹™ íŒŒì¼ ì—…ë°ì´íŠ¸ | ì¦‰ì‹œ ì ìš© |
| ì˜ì¡´ì„± ë³€ê²½ ì˜í–¥ ë¶„ì„ | ìë™í™” |

---

## 8. Development Phases

### Phase 1: Foundation (í•„ìˆ˜ ê¸°ë°˜)

**ëª©í‘œ**: ë¸”ëŸ­/ì—ì´ì „íŠ¸ íƒ€ì… ì‹œìŠ¤í…œ ë° ê¸°ë³¸ êµ¬ì¡°

| ì‘ì—… | ìš°ì„ ìˆœìœ„ |
|------|----------|
| Block/Agent íƒ€ì… ì •ì˜ | P0 |
| ë„ë©”ì¸ë³„ ë¸”ëŸ­ ì‹ë³„ ë° ì •ì˜ | P0 |
| Vertical Slicing í´ë” êµ¬ì¡° ì „í™˜ | P0 |
| Agent Rules í…œí”Œë¦¿ ì‘ì„± | P0 |
| ê¸°ë³¸ Event Bus êµ¬í˜„ | P0 |

### Phase 2: Integration (í†µí•©)

**ëª©í‘œ**: Claude Code í†µí•© ë° Conductor ì›Œí¬í”Œë¡œìš°

| ì‘ì—… | ìš°ì„ ìˆœìœ„ |
|------|----------|
| Claude Code ê·œì¹™ ì¸ì‹ ì„¤ì • | P1 |
| Orchestrator Agent êµ¬í˜„ | P1 |
| Domain Agent êµ¬í˜„ (4ê°œ) | P1 |
| Conductor 3ë‹¨ê³„ ì›Œí¬í”Œë¡œìš° | P1 |
| Circuit Breaker êµ¬í˜„ | P1 |

### Phase 3: Enhancement (ê³ ë„í™”)

**ëª©í‘œ**: ëª¨ë‹ˆí„°ë§ ë° ìë™í™”

| ì‘ì—… | ìš°ì„ ìˆœìœ„ |
|------|----------|
| ë¸”ëŸ­ ì‚¬ì´ì¦ˆ ìë™ ì¸¡ì • | P2 |
| ë©”íŠ¸ë¦­ ëŒ€ì‹œë³´ë“œ | P2 |
| ìë™ ë¶„í•  ì œì•ˆ | P2 |
| ì„±ëŠ¥ ìµœì í™” | P2 |

---

## 9. Success Metrics

### 9.1 ê°œë°œ ìƒì‚°ì„±

| Metric | Target |
|--------|--------|
| AI ì½”ë“œ ìƒì„± ì •í™•ë„ | 95%+ |
| ì½”ë“œ ë¦¬ë·° í†µê³¼ìœ¨ | 90%+ |
| íšŒê·€ ë²„ê·¸ ë°œìƒë¥  | <5% |
| í‰ê·  íƒœìŠ¤í¬ ì™„ë£Œ ì‹œê°„ | 50% ê°ì†Œ |

### 9.2 ì½”ë“œ í’ˆì§ˆ

| Metric | Target |
|--------|--------|
| í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ | 80%+ |
| ë¦°íŠ¸ í†µê³¼ìœ¨ | 100% |
| íƒ€ì… ì•ˆì „ì„± | 100% |
| ìˆœí™˜ ì˜ì¡´ì„± | 0ê°œ |

### 9.3 AI íš¨ìœ¨ì„±

| Metric | Target |
|--------|--------|
| ì»¨í…ìŠ¤íŠ¸ í¬ê¸° ê°ì†Œ | 80%+ (500â†’30 íŒŒì¼) |
| í™˜ê° ë°œìƒë¥  | <3% |
| ì‘ë‹µ ì‹œê°„ ë‹¨ì¶• | 70%+ (10ì´ˆâ†’3ì´ˆ) |

---

## 10. Risks & Mitigations

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| ì´ˆê¸° êµ¬ì¡° ì „í™˜ ë¹„ìš© | High | Medium | ì ì§„ì  ë§ˆì´ê·¸ë ˆì´ì…˜, ê¸°ì¡´ ì½”ë“œ ìœ ì§€ |
| ë¸”ëŸ­ ê²½ê³„ ì„¤ì • ì–´ë ¤ì›€ | Medium | Medium | SRP ì›ì¹™ ì¤€ìˆ˜, ë°˜ë³µ ê°œì„  |
| Claude Code í†µí•© ì´ìŠˆ | Low | High | ìˆ˜ë™ ê·œì¹™ ì ìš© ëŒ€ì•ˆ |
| ê³¼ë„í•œ ì¶”ìƒí™” | Medium | Medium | YAGNI ì›ì¹™, í•„ìš”ì‹œë§Œ í™•ì¥ |

---

## 11. Appendix

### 11.1 Agent Rules í…œí”Œë¦¿

```markdown
# {Domain} Block Agent Rules

## Identity
- **Role**: {ì—­í•  ì„¤ëª…}
- **Domain**: {ë„ë©”ì¸ëª…}
- **Scope**: `features/{domain}/` ë‚´ë¶€ë§Œ

## Constraints

### DO (í•´ì•¼ í•  ê²ƒ)
- âœ… ì´ í´ë” ë‚´ íŒŒì¼ë§Œ ìˆ˜ì •
- âœ… `types.ts`ì˜ íƒ€ì… ì •ì˜ ìš°ì„  í™•ì¸
- âœ… `index.ts`ë¥¼ í†µí•´ ì™¸ë¶€ ë…¸ì¶œ API ê´€ë¦¬
- âœ… Zod ìŠ¤í‚¤ë§ˆë¡œ ì…ë ¥ ê²€ì¦

### DON'T (í•˜ì§€ ë§ ê²ƒ)
- âŒ `features/` ì™¸ë¶€ íŒŒì¼ ì§ì ‘ ìˆ˜ì •
- âŒ `shared/ui` ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ ìˆ˜ì •
- âŒ ì „ì—­ ìƒíƒœ ì§ì ‘ ì ‘ê·¼
- âŒ í•˜ë“œì½”ë”©ëœ ë¹„ë°€ê°’ ì‚¬ìš©

## Dependencies

### ë‚´ë¶€ ì˜ì¡´ì„±
- `@wsoptv/types`: ê³µìœ  íƒ€ì…

### ì™¸ë¶€ ì˜ì¡´ì„±
- (ë¼ì´ë¸ŒëŸ¬ë¦¬ ëª©ë¡)

## Testing
- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸: `__tests__/` í´ë”
- Mock: (Mock ì •ì±…)

## Error Codes
- (ì—ëŸ¬ ì½”ë“œ ëª©ë¡)
```

### 11.2 ì§€íœ˜ ëª…ë ¹ ì˜ˆì‹œ

| ì§€íœ˜ ëª…ë ¹ | ë¼ìš°íŒ… | ì‹¤í–‰ ë¸”ëŸ­ |
|----------|--------|----------|
| "ì¸ì¦ ë¡œì§ì— 2FA ì¶”ê°€í•´ì¤˜" | auth-domain | auth.token, auth.session |
| "ê²€ìƒ‰ ê²°ê³¼ ì •ë ¬ ë°©ì‹ ë³€ê²½í•´ì¤˜" | search-domain | search.rank |
| "ìŠ¤íŠ¸ë¦¬ë° í’ˆì§ˆ ì˜µì…˜ ì¶”ê°€í•´ì¤˜" | stream-domain | stream.transcode, stream.deliver |
| "í•¸ë“œ ìŠ¤í‚µ ê¸°ëŠ¥ êµ¬í˜„í•´ì¤˜" | content-domain + player | content.timeline, player |

### 11.3 ê´€ë ¨ ë¬¸ì„œ

| ë¬¸ì„œ | ì„¤ëª… |
|------|------|
| [Architecture](../architecture/0001-block-agent-system.md) | ìƒì„¸ ì•„í‚¤í…ì²˜ ì„¤ê³„ |
| [LLD Modules](../lld/0002-lld-modules.md) | ëª¨ë“ˆë³„ ìƒì„¸ ì¸í„°í˜ì´ìŠ¤ |
| [Platform PRD](./0001-prd-wsoptv-platform.md) | WSOPTV í”Œë«í¼ PRD |

---

**Document History**

| Version | Date | Author | Changes |
|---------|------|--------|---------|
| 1.0.0 | 2025-12-09 | Claude Code | Initial draft |

---

**Next Steps**: Architecture ë¬¸ì„œ ê¸°ë°˜ êµ¬í˜„ ì‹œì‘
